<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="css/adif_gravita_reset.css">
        <link rel="stylesheet" type="text/css" href="css/adif_gravita_fonts.css">
        <link rel="stylesheet" type="text/css" href="css/adif_gravita_styles.css">
        <title>ADIF GRÁVITA</title>
        <script>
            // !function(e) {
            //     var n = "https://s.go-mpulse.net/boomerang/";
            //     if ("False" == "True")
            //         e.BOOMR_config = e.BOOMR_config || {},
            //         e.BOOMR_config.PageParams = e.BOOMR_config.PageParams || {},
            //         e.BOOMR_config.PageParams.pci = !0,
            //         n = "https://s2.go-mpulse.net/boomerang/";
            //     if (window.BOOMR_API_key = "JGCGD-BQDSY-R3UU6-R5STG-DJW74",
            //     function() {
            //         function e() {
            //             if (!o) {
            //                 var e = document.createElement("script");
            //                 e.id = "boomr-scr-as",
            //                 e.src = window.BOOMR.url,
            //                 e.async = !0,
            //                 i.parentNode.appendChild(e),
            //                 o = !0
            //             }
            //         }
            //         function t(e) {
            //             o = !0;
            //             var n, t, a, r, d = document, O = window;
            //             if (window.BOOMR.snippetMethod = e ? "if" : "i",
            //             t = function(e, n) {
            //                 var t = d.createElement("script");
            //                 t.id = n || "boomr-if-as",
            //                 t.src = window.BOOMR.url,
            //                 BOOMR_lstart = (new Date).getTime(),
            //                 e = e || d.body,
            //                 e.appendChild(t)
            //             }
            //             ,
            //             !window.addEventListener && window.attachEvent && navigator.userAgent.match(/MSIE [67]\./))
            //                 return window.BOOMR.snippetMethod = "s",
            //                 void t(i.parentNode, "boomr-async");
            //             a = document.createElement("IFRAME"),
            //             a.src = "about:blank",
            //             a.title = "",
            //             a.role = "presentation",
            //             a.loading = "eager",
            //             r = (a.frameElement || a).style,
            //             r.width = 0,
            //             r.height = 0,
            //             r.border = 0,
            //             r.display = "none",
            //             i.parentNode.appendChild(a);
            //             try {
            //                 O = a.contentWindow,
            //                 d = O.document.open()
            //             } catch (_) {
            //                 n = document.domain,
            //                 a.src = "javascript:var d=document.open();d.domain='" + n + "';void(0);",
            //                 O = a.contentWindow,
            //                 d = O.document.open()
            //             }
            //             if (n)
            //                 d._boomrl = function() {
            //                     this.domain = n,
            //                     t()
            //                 }
            //                 ,
            //                 d.write("<bo" + "dy onload='document._boomrl();'>");
            //             else if (O._boomrl = function() {
            //                 t()
            //             }
            //             ,
            //             O.addEventListener)
            //                 O.addEventListener("load", O._boomrl, !1);
            //             else if (O.attachEvent)
            //                 O.attachEvent("onload", O._boomrl);
            //             d.close()
            //         }
            //         function a(e) {
            //             window.BOOMR_onload = e && e.timeStamp || (new Date).getTime()
            //         }
            //         if (!window.BOOMR || !window.BOOMR.version && !window.BOOMR.snippetExecuted) {
            //             window.BOOMR = window.BOOMR || {},
            //             window.BOOMR.snippetStart = (new Date).getTime(),
            //             window.BOOMR.snippetExecuted = !0,
            //             window.BOOMR.snippetVersion = 12,
            //             window.BOOMR.url = n + "JGCGD-BQDSY-R3UU6-R5STG-DJW74";
            //             var i = document.currentScript || document.getElementsByTagName("script")[0]
            //               , o = !1
            //               , r = document.createElement("link");
            //             if (r.relList && "function" == typeof r.relList.supports && r.relList.supports("preload") && "as"in r)
            //                 window.BOOMR.snippetMethod = "p",
            //                 r.href = window.BOOMR.url,
            //                 r.rel = "preload",
            //                 r.as = "script",
            //                 r.addEventListener("load", e),
            //                 r.addEventListener("error", function() {
            //                     t(!0)
            //                 }),
            //                 setTimeout(function() {
            //                     if (!o)
            //                         t(!0)
            //                 }, 3e3),
            //                 BOOMR_lstart = (new Date).getTime(),
            //                 i.parentNode.appendChild(r);
            //             else
            //                 t(!1);
            //             if (window.addEventListener)
            //                 window.addEventListener("load", a, !1);
            //             else if (window.attachEvent)
            //                 window.attachEvent("onload", a)
            //         }
            //     }(),
            //     "".length > 0)
            //         if (e && "performance"in e && e.performance && "function" == typeof e.performance.setResourceTimingBufferSize)
            //             e.performance.setResourceTimingBufferSize();
            //     !function() {
            //         if (BOOMR = e.BOOMR || {},
            //         BOOMR.plugins = BOOMR.plugins || {},
            //         !BOOMR.plugins.AK) {
            //             var n = "" == "true" ? 1 : 0
            //               , t = ""
            //               , a = "figfvantbj3aakqce3yataaabnuhhjfh-f-b6d8aeb43-clienttons-s.akamaihd.net"
            //               , i = "false" == "true" ? 2 : 1
            //               , o = {
            //                 "ak.v": "39",
            //                 "ak.cp": "1820004",
            //                 "ak.ai": parseInt("1157656", 10),
            //                 "ak.ol": "0",
            //                 "ak.cr": 8,
            //                 "ak.ipv": 6,
            //                 "ak.proto": "h3",
            //                 "ak.rid": "148212ff",
            //                 "ak.r": 46193,
            //                 "ak.a2": n,
            //                 "ak.m": "dscb",
            //                 "ak.n": "ff",
            //                 "ak.bpcip": "2a0c:5a81:b30a:7600::",
            //                 "ak.cport": 61648,
            //                 "ak.gh": "96.16.87.170",
            //                 "ak.quicv": "0x00000001",
            //                 "ak.tlsv": "tls1.3",
            //                 "ak.0rtt": "",
            //                 "ak.0rtt.ed": "",
            //                 "ak.csrc": "-",
            //                 "ak.acc": "",
            //                 "ak.t": "1752409255",
            //                 "ak.ak": "hOBiQwZUYzCg5VSAfCLimQ==8/dvymBPHtbI2CwJylT1YBCRHwn4fKuKe1BWYSuXFYGhskKevYlgXErLpAD4XIJXglsgkZa1OKALfWPVBvkSoZgWPEEp/hsKIyD87cMakDHPP0dwg+Kh3oYaON6xlT4pNMX3qYdHGhr2HXZMm3OnfCfvyoDL4bA3w9glJ93Utfkk3dpcieO+HXKAONyOwiUdYXhE86K+TAYv/e1It7+f8c+BJJUsyf+GxuxnEbCsXi/OV+d6DGb4MRXiJk6ZPrOvWWIEZgJpimrLdOoPWJTMWIVN7d8BgYCPVp5mF8K9TMjV4+tHUUJdSilB7dgPxGWH1rdf9RInAcTmvBIE772rTGJQmhkCu0Ym/8o1+V4Kdcr9zgnP79s7Q3sbrnI2//ZVE41jUJrrBX2tq/Ec21umneMP9NFMsHUQW9FFqYcFLT4=",
            //                 "ak.pv": "4",
            //                 "ak.dpoabenc": "",
            //                 "ak.tf": i
            //             };
            //             if ("" !== t)
            //                 o["ak.ruds"] = t;
            //             var r = {
            //                 i: !1,
            //                 av: function(n) {
            //                     var t = "http.initiator";
            //                     if (n && (!n[t] || "spa_hard" === n[t]))
            //                         o["ak.feo"] = void 0 !== e.aFeoApplied ? 1 : 0,
            //                         BOOMR.addVar(o)
            //                 },
            //                 rv: function() {
            //                     var e = ["ak.bpcip", "ak.cport", "ak.cr", "ak.csrc", "ak.gh", "ak.ipv", "ak.m", "ak.n", "ak.ol", "ak.proto", "ak.quicv", "ak.tlsv", "ak.0rtt", "ak.0rtt.ed", "ak.r", "ak.acc", "ak.t", "ak.tf"];
            //                     BOOMR.removeVar(e)
            //                 }
            //             };
            //             BOOMR.plugins.AK = {
            //                 akVars: o,
            //                 akDNSPreFetchDomain: a,
            //                 init: function() {
            //                     if (!r.i) {
            //                         var e = BOOMR.subscribe;
            //                         e("before_beacon", r.av, null, null),
            //                         e("onbeacon", r.rv, null, null),
            //                         r.i = !0
            //                     }
            //                     return this
            //                 },
            //                 is_complete: function() {
            //                     return !0
            //                 }
            //             }
            //         }
            //     }()
            // }(window);
        </script>
    </head>
    <body onload="loadFunction()">
        <script>
            //variable global para almacenar los parametros de url
            var vars = {}
            var station = undefined
            generarCabecera();
            function generarCabecera() {
                // console.log(vars);
                station = vars['IdEstacion'];
                //Tratamos las vars y las adaptamos a como se quiera:
                //bien aqui o en una funcion llamada desde aqui
                //generamos cabecera con los atributos
                if (vars['interfaz'] && datosRecibidos) {
                    // Hacemos una comprobación de una de las variables necesarias, para saber que ya existen
                    if (!$('#contenedorGrvta').hasClass('adif-gravita')) {
                        document.body.innerHTML = '<div id="contenedorGrvta" ' + 'id="' + vars["Monitor"] + '"' + 'style="width: 100vw; height: 100vh"' + 'class="adif-gravita ' + vars['interfaz'] + '"' + 'font-size="' + vars['font-size'] + '"' + 'countdown="' + vars['countdown'] + '"' + 'traffic-filter="' + vars['traffic'] + '"' + 'show-access="' + vars['show-access'] + '"' + 'idestacion="' + station + '"' + 'rutarecursos="' + vars['rutaRecursos'] + '"' +
                        setAttibutesString() + '></div>';
                    }
                    getMultimediaFolder('trains');

                } else {
                    //Si no existen las vars se va a intentar en el siguiente frame de renderizado
                    requestAnimationFrame(generarCabecera);
                }
            }
        </script>
        <!-- Inclusión de jquery -->
        <script src="jquery/jquery-3.7.1.min.js"></script>
        <script src="dnv_grvta.js"></script>
        <script src="adif_frases.js?v=8"></script>
        <script src="../gravita/adif_gravita_interface.js"></script>
        <script src="adif_gravita.js?v=28"></script>
    </body>
</html>
